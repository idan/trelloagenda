{"version":3,"sources":["NotAuthed.js","Cardlist.js","Home.js","AuthCallback.js","App.js","reportWebVitals.js","index.js"],"names":["NotAuthed","className","href","encodeURIComponent","window","location","React","Component","colormap","Cardlist","state","cards","startOfYesterday","moment","subtract","startOf","console","debug","toString","token","store","get","axios","then","res","setState","data","filter","card","due","isSameOrAfter","sort","a","b","sortAscending","NaN","this","dateGroups","_","toPairs","groupBy","toISOString","map","group","labels","label","style","background","color","id","url","name","format","isToday","isSame","Home","AuthCallback","props","trimStart","hash","set","to","withRouter","App","path","component","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8dee8c98.chunk.js","sourcesContent":["import React from 'react'\n\nexport default class NotAuthed extends React.Component {\n  render () {\n    return (<div className='flex flex-column items-center justify-center h-100'>\n      <a className='f3 db mw6 no-underline ma3 pa3 black bg-lightest-blue hover-bg-light-blue bg-animate'\n        href={`https://trello.com/1/authorize?callback_method=fragment&return_url=${encodeURIComponent(window.location)}authcallback&scope=read&expiration=never&name=Trello%20Agenda&key=aa7ec38ab6a4c3d02f59026f00acae3b`}>Auth with Trello</a>\n    </div>)\n  }\n}\n","import React from 'react'\nimport store from 'store'\nimport axios from 'axios'\nimport moment from 'moment'\nimport _ from 'lodash'\n\nconst colormap = {\n  'green': '#61BD4F',\n  'yellow': '#F2D600',\n  'orange': '#FFAB4A',\n  'red': '#EB5A46',\n  'purple': '#C377E0',\n  'blue': '#0079BF',\n  'sky': '#00C2E0',\n  'pink': '#FF80CE',\n}\n\nexport default class Cardlist extends React.Component {\n  state = {\n    cards: [],\n  }\n\n  componentDidMount () {\n    const startOfYesterday = moment().subtract(1, 'day').startOf('day')\n    console.debug('showing cards with a due date >= ', startOfYesterday.toString())\n    const token = store.get('token')\n    axios.get(`https://api.trello.com/1/boards/50fa830b365c57f947004b12/cards?key=aa7ec38ab6a4c3d02f59026f00acae3b&token=${token}`)\n      .then((res) => {\n        this.setState({\n          cards: res.data\n            .filter((card) => !!card.due && moment(card.due).isSameOrAfter(startOfYesterday)) // only cards with a due date after yesterday\n            .sort((a, b) => this.sortAscending(a.due, b.due)) // sort by time ascending\n        })\n      })\n  }\n\n  sortAscending (a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN\n  }\n\n  render () {\n    const { cards } = this.state\n    const groupedByDate = _.toPairs(_.groupBy(cards, (card) => moment(card.due).startOf('day').toISOString())).sort((a,b) => this.sortAscending(a[0], b[0]))\n    const dateGroups = groupedByDate.map((group) => {\n      const cards = group[1].sort((a, b) => this.sortAscending(a.due, b.due)).map((card) => {\n        const labels = card.labels\n          .map((label) => (<div className='w1 flex-none' key={label.id} style={{background: colormap[label.color]}}></div>))\n        return (\n          <a key={card.id} className='flex flex-row pa0 ma3 black bg-lightest-blue no-underline bg-animate hover-bg-light-blue' href={card.url}>\n            <div className='flex-auto pa3'>{card.name}</div>\n            <div className='flex-none pv3 ph2 f6 gray'>{moment(card.due).format('HH:mm')}</div>\n            {labels}\n          </a>\n        )\n      })\n      const isToday = moment(group[0]).isSame(moment(), 'day')\n      return (<div className='mb5' key={group[0]}>\n        <h3 className='mh3' id={isToday ? 'today' : ''}>{moment(group[0]).format('ddd MMMM Do')}</h3>\n        {cards}\n      </div>)\n    })\n\n    return (<div>{dateGroups}</div>)\n  }\n}\n","import React from 'react'\nimport store from 'store'\n\nimport NotAuthed from './NotAuthed'\nimport Cardlist from './Cardlist'\nexport default class Home extends React.Component {\n  render () {\n    const token = store.get('token')\n\n    if (token) {\n      return (<Cardlist />)\n    } else {\n      return (<NotAuthed />)\n    }\n  }\n}\n","import React from 'react'\nimport { withRouter } from 'react-router'\nimport { trimStart }  from 'lodash'\nimport store from 'store'\nimport { Redirect } from 'react-router-dom'\n\nclass AuthCallback extends React.Component {\n  render () {\n    const { location } = this.props\n    const token = trimStart(location.hash, '#token=')\n    store.set('token', token)\n    return (<Redirect to='/' />)\n  }\n}\n\nexport default withRouter(AuthCallback)\n","import {\n  BrowserRouter as Router,\n  Route,\n} from 'react-router-dom'\n\nimport Home from './Home'\nimport AuthCallback from './AuthCallback'\n\nfunction App() {\n    return (\n      <Router>\n        <div className=\"mw6 center h-100\">\n          <Route path='/authcallback' component={AuthCallback} />\n          <Route exact path='/' component={Home} />\n        </div>\n      </Router>\n\n    )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}