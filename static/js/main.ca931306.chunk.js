(this.webpackJsonpta=this.webpackJsonpta||[]).push([[0],{41:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(33),i=n.n(o),s=(n(41),n(21)),u=n(2),l=n(8),d=n(9),b=n(11),h=n(10),f=n(15),j=n.n(f),m=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"flex flex-column items-center justify-center h-100",children:Object(a.jsx)("a",{className:"f3 db mw6 no-underline ma3 pa3 black bg-lightest-blue hover-bg-light-blue bg-animate",href:"https://trello.com/1/authorize?callback_method=fragment&return_url=".concat(encodeURIComponent(window.location),"authcallback&scope=read&expiration=never&name=Trello%20Agenda&key=aa7ec38ab6a4c3d02f59026f00acae3b"),children:"Auth with Trello"})})}}]),n}(c.a.Component),p=n(34),O=n.n(p),g=n(12),v=n.n(g),x=n(17),y=n.n(x),k={green:"#61BD4F",yellow:"#F2D600",orange:"#FFAB4A",red:"#EB5A46",purple:"#C377E0",blue:"#0079BF",sky:"#00C2E0",pink:"#FF80CE"},w=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={cards:[]},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=v()().subtract(1,"day").startOf("day");console.debug("showing cards with a due date >= ",t.toString());var n=j.a.get("token");O.a.get("https://api.trello.com/1/boards/50fa830b365c57f947004b12/cards?key=aa7ec38ab6a4c3d02f59026f00acae3b&token=".concat(n)).then((function(n){e.setState({cards:n.data.filter((function(e){return!!e.due&&v()(e.due).isSameOrAfter(t)})).sort((function(t,n){return e.sortAscending(t.due,n.due)}))})}))}},{key:"sortAscending",value:function(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},{key:"render",value:function(){var e=this,t=this.state.cards,n=y.a.toPairs(y.a.groupBy(t,(function(e){return v()(e.due).startOf("day").toISOString()}))).sort((function(t,n){return e.sortAscending(t[0],n[0])})).map((function(t){var n=t[1].sort((function(t,n){return e.sortAscending(t.due,n.due)})).map((function(e){var t=e.labels.map((function(e){return Object(a.jsx)("div",{className:"w1 flex-none",style:{background:k[e.color]}},e.id)}));return Object(a.jsxs)("a",{className:"flex flex-row pa0 ma3 black bg-lightest-blue no-underline bg-animate hover-bg-light-blue",href:e.url,children:[Object(a.jsx)("div",{className:"flex-auto pa3",children:e.name}),Object(a.jsx)("div",{className:"flex-none pv3 ph2 f6 gray",children:v()(e.due).format("HH:mm")}),t]},e.id)})),r=v()(t[0]).isSame(v()(),"day");return Object(a.jsxs)("div",{className:"mb5",children:[Object(a.jsx)("h3",{className:"mh3",id:r?"today":"",children:v()(t[0]).format("ddd MMMM Do")}),n]},t[0])}));return Object(a.jsx)("div",{children:n})}}]),n}(c.a.Component),A=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return j.a.get("token")?Object(a.jsx)(w,{}):Object(a.jsx)(m,{})}}]),n}(c.a.Component),C=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.location,t=Object(x.trimStart)(e.hash,"#token=");return j.a.set("token",t),Object(a.jsx)(u.a,{to:"/"})}}]),n}(c.a.Component),F=Object(u.f)(C);var N=function(){return Object(a.jsx)(s.a,{children:Object(a.jsxs)("div",{className:"mw6 center h-100",children:[Object(a.jsx)(u.b,{path:"/authcallback",component:F}),Object(a.jsx)(u.b,{exact:!0,path:"/",component:A})]})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root")),S()}},[[77,1,2]]]);
//# sourceMappingURL=main.ca931306.chunk.js.map